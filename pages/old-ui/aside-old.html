<aside class="main-sidebar"  id="main-aside">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
      <!-- Sidebar user panel -->
      <div class="user-panel">
        <div class="pull-left image">
          <img src="../dist/img/photo4.jpg" class="img-circle" alt="User Image">
        </div>
        <div class="pull-left info">
          <p>YouAPP</p>
          <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
        </div>
      </div>
      <!-- search form -->
      <form action="#" method="get" class="sidebar-form">
        <div class="input-group">
          <input type="text" name="q" class="form-control" placeholder="Search...">
              <span class="input-group-btn">
                <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
                </button>
              </span>
        </div>
      </form>
      <!-- /.search form -->
      <!-- sidebar menu: : style can be found in sidebar.less -->
      <ul class="sidebar-menu"   id="sidebar_menu_id" >
        <li class="treeview">
          <a href="#">
            <i class="fa fa-circle-o text-red"></i> <span>EXTAPP-DYNAMIC-M</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu">
          	<li><a 
            href="javascript:void(0)"  
            data-url="pages/extapp/samplemanager/sample-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="extAppSampleManagerTab"
            data-tabmenutitle="EXT-APP-SAMPLE-Manager"
            ><i class="fa fa-circle-o text-red"></i> EXTAPP SAMPLE Manager</a>
            </li>
          </ul>
          
        </li>
        
        <li class="treeview">
          <a href="#">
            <i class="fa fa-circle-o text-red"></i> <span>Demo</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu">
          <li><a 
            href="javascript:void(0)"  
            data-url="pages/demo/search-add.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="searchDemo"
            data-tabmenutitle="Search-Demo"
            ><i class="fa fa-circle-o text-red"></i> Search</a>
            </li>
          
          
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/demo/tabs.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="tabDemo"
            data-tabmenutitle="Tab-Demo"
            ><i class="fa fa-circle-o text-red"></i> Tab</a>
            </li>
            
            <li><a href="javascript:void(0)"
            data-url="pages/demo/datatables.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="dtatablesDemo"
            data-tabmenutitle="Datatables-Demo"
            ><i class="fa fa-circle-o text-red"></i> Datatables</a>
            </li>
            
            <li><a href="javascript:void(0)"
            data-url="pages/demo/webuploader.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="uploaderDemo"
            data-tabmenutitle="Uploader-Demo"
            ><i class="fa fa-circle-o text-red"></i> WebUploader</a>
            </li>
            
             <li><a href="javascript:void(0)"
            data-url="pages/demo/webuploader-multi.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="multiUploaderDemo"
            data-tabmenutitle="MultiUploader-Demo"
            ><i class="fa fa-circle-o text-red"></i> Multi-WebUploader</a>
            </li>
            
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/demo/codetables.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="codeTableDemo"
            data-tabmenutitle="CodeTable-Demo"
            ><i class="fa fa-circle-o text-red"></i> CodeTable</a>
            </li>
            
          </ul>
        </li>
        
        <li class="treeview">
          <a href="#">
            <i class="fa fa-circle-o"></i> <span>SYS-M</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu">
          <li><a 
            href="javascript:void(0)"  
            data-url="pages/dev/htmlpath-edit.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="htmlPathTab"
            data-tabmenutitle="HTML-PATH"
            ><i class="fa fa-circle-o"></i> HTML-PATH-MANAGER(DEV)</a>
            </li>
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/dev/htmlusecache-edit.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="htmlUseCacheTab"
            data-tabmenutitle="HTML-USE-CACHE"
            ><i class="fa fa-circle-o"></i> HTML-USE-CACHE(DEV)</a>
            </li>
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/runtimeurl/runtimeurl-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="runtimeurlTab"
            data-tabmenutitle="RUTIME-URL"
            ><i class="fa fa-circle-o"></i> RUNTIME-URL-MANAGER(DEV)</a>
            </li>
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/resourcemanager/resource-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="resourceTab"
            data-tabmenutitle="RESOURCE-MANAGER"
            ><i class="fa fa-circle-o"></i> RESOURCE-MANAGER</a>
            </li>
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/sysparam/sysparam-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="sysparamTab"
            data-tabmenutitle="SYS-PARAM"
            ><i class="fa fa-circle-o"></i> SYS-PARAM</a>
            </li>
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/codetable/paramtype-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="paramTypeTab"
            data-tabmenutitle="Param-Type"
            ><i class="fa fa-circle-o"></i> Param-Type</a>
            </li>
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/codetable/paramcode-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="paramCodeTab"
            data-tabmenutitle="Param-Code"
            ><i class="fa fa-circle-o"></i> Param-Code</a>
            </li>
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/menumanager/menu-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="menuManagerTab"
            data-tabmenutitle="Menu-Manager"
            ><i class="fa fa-circle-o"></i> Menu-M</a>
            </li>
          </ul>
        </li>
        
        <li class="treeview">
          <a href="#">
            <i class="fa fa-circle-o text-red"></i> <span>User-R-G-M</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu">
          	<li><a 
            href="javascript:void(0)"  
            data-url="pages/usermanager/role-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="roleManagerTab"
            data-tabmenutitle="Role-Manager"
            ><i class="fa fa-circle-o text-red"></i> Role</a>
            </li>
            
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/usermanager/group-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="groupManagerTab"
            data-tabmenutitle="Group-Manager"
            ><i class="fa fa-circle-o text-red"></i> Group</a>
            </li>
            
            <li><a 
            href="javascript:void(0)"  
            data-url="pages/usermanager/user-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="userManagerTab"
            data-tabmenutitle="User-Manager"
            ><i class="fa fa-circle-o text-red"></i> User</a>
            </li>
            
          </ul>
          
        </li>
        
        
        <li class="treeview">
          <a href="#">
            <i class="fa fa-circle-o text-red"></i> <span>CONTAINER-M</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu">
          	<li><a 
            href="javascript:void(0)"  
            data-url="pages/containermanager/container-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="containerManagerTab"
            data-tabmenutitle="Container-Manager"
            ><i class="fa fa-circle-o text-red"></i> Container Manager</a>
            </li>
          </ul>
          
        </li>
        
        
        <li class="treeview">
          <a href="#">
            <i class="fa fa-circle-o text-red"></i> <span>BILL-M</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu">
          	<li><a 
            href="javascript:void(0)"  
            data-url="pages/billmanager/bill-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="billManagerTab"
            data-tabmenutitle="Bill-Manager"
            ><i class="fa fa-circle-o text-red"></i> Bill Manager</a>
            </li>
          	<li><a 
            href="javascript:void(0)"  
            data-url="pages/billmanager/good-list.html"
            data-urldata=""
            data-tabid="layoutTab"
            data-tabmenuid="goodManagerTab"
            data-tabmenutitle="Good-Manager"
            ><i class="fa fa-circle-o text-red"></i> Good Manager</a>
            </li>
          </ul>
        </li>
        
        <li class="treeview">
          <a href="#">
            <i class="fa fa-share"></i> <span>Multilevel</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu">
            <li><a href="#"><i class="fa fa-circle-o"></i> Level One</a></li>
            <li>
              <a href="#"><i class="fa fa-circle-o"></i> Level One
                <span class="pull-right-container">
                  <i class="fa fa-angle-left pull-right"></i>
                </span>
              </a>
              <ul class="treeview-menu">
                <li><a href="#"><i class="fa fa-circle-o"></i> Level Two</a></li>
                <li>
                  <a href="#"><i class="fa fa-circle-o"></i> Level Two
                    <span class="pull-right-container">
                      <i class="fa fa-angle-left pull-right"></i>
                    </span>
                  </a>
                  <ul class="treeview-menu">
                    <li><a href="#"><i class="fa fa-circle-o"></i> Level Three</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Level Three</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#"><i class="fa fa-circle-o"></i> Level One</a></li>
          </ul>
        </li>
        <li class="header"  id="_document_start">LABELS</li>
        <li><a href="documentation/index.html"><i class="fa fa-book"></i> <span>Documentation</span></a></li>
        <li><a href="#"><i class="fa fa-circle-o text-red"></i> <span>Important</span></a></li>
        <li><a href="#"><i class="fa fa-circle-o text-yellow"></i> <span>Warning</span></a></li>
        <li><a href="#"><i class="fa fa-circle-o text-aqua"></i> <span>Information</span></a></li>
      </ul>
      
      
      
      <!--   template for menu   -->
      
      <div  id="_template_treeview" style="display: none;">
      			<!--  item  -->
      			<li  ><a href="#"><i class="fa fa-circle-o"></i> </a></li>
      			<!--  node  -->
                <li  class="treeview">
                  <a  href="#"><i class="fa fa-circle-o"></i> 
                    <span class="pull-right-container">
                      <i class="fa fa-angle-left pull-right"></i>
                    </span>
                  </a>
                  <ul class="treeview-menu"  >
                    
                  </ul>
                </li>
      </div>    
              
      <!--  template for menu end -->        
    </section>
    <!-- /.sidebar -->
  </aside>
  <script type="text/javascript">
  
  $_youapp.ready(function() {
  	
  	var page=$.extend({
  		root:$("#main-aside"),
  		model:{
  		}
  	},$_youapp.pageTemplate);
  	
	  function getMenuNode(_name){
		  var $menuNode=page.root.find('#_template_treeview > li:odd ').clone(false);
		  var $menuNodeLink=$menuNode.find('a');
		  $menuNodeLink.find('i:first').after(_name);
		  return $menuNode;
	  }
	  
	  function appendMenu(parent,child){
		  $(parent).children('.treeview-menu').append($(child));
	  }
	  
	  function getMenuItem(data){
		  var $menuItem=page.root.find('#_template_treeview > li:even ').clone(false);
		  var $menuItemLink=$menuItem.find('a');
		  $menuItemLink.val('href','javascript:void(0)');
		  $menuItemLink.attr('data-url',data.url);
		  $menuItemLink.attr('data-urldata','');
		  $menuItemLink.attr('data-tabid','layoutTab');
		  $menuItemLink.attr('data-tabmenuid',data.code+'_'+data.id);
		  $menuItemLink.attr('data-tabmenutitle',data.name);
		  $menuItemLink.find('i').after(data.name);
		  return $menuItem;
	  }
	  
	  var $sideBar=page.root.find('.sidebar-menu');
	  
	  function cycle(eles,opts,menus,parent){
			for(var i=0;i<eles.length;i++){
				var _data=eles[i];
				var child;
				if(_data.children.length>0){  // menu node
					child=getMenuNode(_data.data.name);
				}
				else{
					child=getMenuItem(_data.data);
				}
				if(parent){
					appendMenu(parent, child);
				}
				
				if(_data.meta.level==1){
					menus.push(child);
				}
				if(_data.children.length>0){  // menu node
					cycle(_data.children,opts,menus,child);
				}
			}
		}
	  
	  page.ajaxGet({
			  url:'/menumanager/getMenusTree',
			  formData:{
			  },
			  success:function(data){
				  var menus=[];
				  cycle(data, {},menus);
				  for(var i=0;i<menus.length;i++){
					  var menu=menus[i];
					  $sideBar.find('#_document_start').before(menu);
				  }
				  $sideBar.find('a[data-url]').on('click',function(event){
					  $_youapp.$_html.newTab($(event.target));
					  $(this).closest('li').addClass('active');
				  });
			  }
		});
	  
	  var $menu=page.root.find('#sidebar_menu_id');
	  $menu.css({
		  'overflow-y':'auto'
	  });
	  $menu.hover(function(){
		  $menu.css({
			  'overflow-y':'auto'
		  });
	  },function(){
		  $menu.css({
			  'overflow-y':'hidden'
		  });
		  $menu.find('.treeview').width($menu.innerWidth());
	  });
	  
	  function setHeight(){
		  var windowHeight=$(window).height();
		  var menuHeight=$menu.position().top;
		  page.log('window-height: '+windowHeight);
		  page.log('menu-height: '+menuHeight);
		  var height=windowHeight-menuHeight;
		  $menu.css({
			  'height':height+'px'
		  });
		  page.log(height)
	  }
	  setHeight();
	  
	  $(window).resize(function(){
		  setTimeout(setHeight(),2000);
	  });
	  
  })
  
  </script>
  